# Introducción a Kubernetes y Minikube

## ¿Qué es Kubernetes?

Kubernetes es una plataforma de orquestación de contenedores que automatiza la gestión, el despliegue y la escalabilidad de aplicaciones en contenedores. Nacido en Google y mantenido por la comunidad open source, permite gestionar clústeres de servidores, distribuir la carga de trabajo eficientemente, asegurar alta disponibilidad y facilitar la implementación de aplicaciones complejas.

## Orquestación de Contenedores con Kubernetes

La orquestación implica gestionar múltiples contenedores que cooperan para ofrecer un servicio. Kubernetes:

- Mantiene los contenedores disponibles.
- Realiza balanceo de carga.
- Supervisa estado y reinicia contenedores fallidos (autorrecuperación).
- Facilita despliegues y actualizaciones controladas.

## Componentes Clave de Kubernetes

- **Pods**: Unidad mínima de ejecución. Puede contener uno o más contenedores que comparten red y almacenamiento.
- **Services (Servicios)**: Abstracción que expone un conjunto lógico de pods mediante un endpoint estable.
- **Deployments**: Gestionan la creación, actualización y escalado de pods. Permiten versiones y rollbacks.

## Configuración de un Entorno Local con Minikube

Minikube permite ejecutar un clúster de Kubernetes local para desarrollo y pruebas.

### Requisitos

- Hipervisor (VirtualBox, Docker, etc.).
- Kubectl instalado.

### Pasos para Configurar Minikube

#### 1. Instalación de Minikube

Descargar e instalar desde el sitio oficial:
https://minikube.sigs.k8s.io/docs/start/

#### 2. Iniciar el clúster

```bash
minikube start
```

#### 3. Verificar estado

```bash
kubectl cluster-info
kubectl get nodes
```

#### 4. Desplegar un ejemplo

Archivo deployment.yaml (ejemplo mínimo):

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
    name: mi-app
spec:
    replicas: 2
    selector:
        matchLabels:
            app: mi-app
    template:
        metadata:
            labels:
                app: mi-app
        spec:
            containers:
                - name: mi-app
                    image: nginx:stable
                    ports:
                        - containerPort: 80
```

Aplicar:

```bash
kubectl apply -f deployment.yaml
kubectl get pods
```

#### 5. Exponer un servicio

```bash
kubectl expose deployment mi-app --type=NodePort --port=80
kubectl get services
minikube service mi-app
```

#### 6. Inspección y logs

```bash
kubectl describe deployment mi-app
kubectl logs -f <nombre-del-pod>
```

## Acceso a Aplicaciones en Minikube

Minikube facilita exponer servicios localmente usando:

```bash
minikube service <nombre-del-servicio>
```

También puedes habilitar el dashboard:

```bash
minikube dashboard
```

## Conclusión

Kubernetes, apoyado por Minikube, proporciona una base sólida para gestionar aplicaciones contenerizadas de forma escalable y confiable. Dominar un entorno local es el primer paso antes de entornos de producción.
